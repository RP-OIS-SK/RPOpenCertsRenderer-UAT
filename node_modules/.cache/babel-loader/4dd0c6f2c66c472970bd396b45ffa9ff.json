{"ast":null,"code":"import _toConsumableArray from\"/OpenCerts/demo-opencerts-renderer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import templateRegistry from\"../../templates\";import{get}from\"lodash\";import attachmentToTemplates from\"../../attachmentTemplates\";export var documentTemplates=function documentTemplates(document,handleHeightUpdate){if(!document)return[];// Find the template in the template registry or use a default template\nvar templateName=get(document,\"$template.name\");var selectedTemplate=templateRegistry[templateName]||templateRegistry.default;// Create additional tabs from attachments, passing in handleHeightUpdate to allow\n// attachment renderers to update parent component height\nvar templatesFromAttachments=attachmentToTemplates(get(document,\"attachments\",[]),handleHeightUpdate);return[].concat(_toConsumableArray(selectedTemplate),_toConsumableArray(templatesFromAttachments));};export var documentTemplateTabs=function documentTemplateTabs(document){var templates=documentTemplates(document);return templates.map(function(template){return{id:template.id,label:template.label};});};// Originally using https://tommcfarlin.com/check-if-a-page-is-in-an-iframe/\n// Currently using https://stackoverflow.com/questions/326069/how-to-identify-if-a-webpage-is-being-loaded-inside-an-iframe-or-directly-into-t\nexport var inIframe=function inIframe(){try{return window.self!==window.top;}catch(e){return true;}};","map":{"version":3,"sources":["/OpenCerts/demo-opencerts-renderer/src/components/documentViewer/utils/index.js"],"names":["templateRegistry","get","attachmentToTemplates","documentTemplates","document","handleHeightUpdate","templateName","selectedTemplate","default","templatesFromAttachments","documentTemplateTabs","templates","map","template","id","label","inIframe","window","self","top","e"],"mappings":"iKAAA,MAAOA,CAAAA,gBAAP,KAA6B,iBAA7B,CACA,OAASC,GAAT,KAAoB,QAApB,CACA,MAAOC,CAAAA,qBAAP,KAAkC,2BAAlC,CAEA,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,QAAD,CAAWC,kBAAX,CAAkC,CACjE,GAAI,CAACD,QAAL,CAAe,MAAO,EAAP,CACf;AACA,GAAME,CAAAA,YAAY,CAAGL,GAAG,CAACG,QAAD,CAAW,gBAAX,CAAxB,CACA,GAAMG,CAAAA,gBAAgB,CACpBP,gBAAgB,CAACM,YAAD,CAAhB,EAAkCN,gBAAgB,CAACQ,OADrD,CAGA;AACA;AACA,GAAMC,CAAAA,wBAAwB,CAAGP,qBAAqB,CACpDD,GAAG,CAACG,QAAD,CAAW,aAAX,CAA0B,EAA1B,CADiD,CAEpDC,kBAFoD,CAAtD,CAIA,mCAAWE,gBAAX,qBAAgCE,wBAAhC,GACD,CAdM,CAgBP,MAAO,IAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAAAN,QAAQ,CAAI,CAC9C,GAAMO,CAAAA,SAAS,CAAGR,iBAAiB,CAACC,QAAD,CAAnC,CACA,MAAOO,CAAAA,SAAS,CAACC,GAAV,CAAc,SAAAC,QAAQ,QAAK,CAChCC,EAAE,CAAED,QAAQ,CAACC,EADmB,CAEhCC,KAAK,CAAEF,QAAQ,CAACE,KAFgB,CAAL,EAAtB,CAAP,CAID,CANM,CAQP;AACA;AACA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CAC5B,GAAI,CACF,MAAOC,CAAAA,MAAM,CAACC,IAAP,GAAgBD,MAAM,CAACE,GAA9B,CACD,CAAC,MAAOC,CAAP,CAAU,CACV,MAAO,KAAP,CACD,CACF,CANM","sourcesContent":["import templateRegistry from \"../../templates\";\nimport { get } from \"lodash\";\nimport attachmentToTemplates from \"../../attachmentTemplates\";\n\nexport const documentTemplates = (document, handleHeightUpdate) => {\n  if (!document) return [];\n  // Find the template in the template registry or use a default template\n  const templateName = get(document, \"$template.name\");\n  const selectedTemplate =\n    templateRegistry[templateName] || templateRegistry.default;\n\n  // Create additional tabs from attachments, passing in handleHeightUpdate to allow\n  // attachment renderers to update parent component height\n  const templatesFromAttachments = attachmentToTemplates(\n    get(document, \"attachments\", []),\n    handleHeightUpdate\n  );\n  return [...selectedTemplate, ...templatesFromAttachments];\n};\n\nexport const documentTemplateTabs = document => {\n  const templates = documentTemplates(document);\n  return templates.map(template => ({\n    id: template.id,\n    label: template.label\n  }));\n};\n\n// Originally using https://tommcfarlin.com/check-if-a-page-is-in-an-iframe/\n// Currently using https://stackoverflow.com/questions/326069/how-to-identify-if-a-webpage-is-being-loaded-inside-an-iframe-or-directly-into-t\nexport const inIframe = () => {\n  try {\n    return window.self !== window.top;\n  } catch (e) {\n    return true;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}