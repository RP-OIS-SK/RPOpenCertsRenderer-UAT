{"ast":null,"code":"var _jsxFileName = \"/Users/Shared/opencerts/UAT-opencerts-renderer/src/components/templates/RPTemplate/common/competency.js\";\nimport { get, groupBy } from \"lodash\";\nimport React from \"react\";\nimport { IMG_LOGO_RP_HORIZONTAL, IMG_LOGO_RP_HORIZONTAL24 } from \"./images\";\nimport { formatDDMMMYYYY } from \"./functions\";\nexport const fullWidthStyle = {\n  width: \"100%\",\n  height: \"auto\"\n};\nexport const SignatureTextStyle = {\n  fontFamily: \"Arial\",\n  fontSize: \"1.2rem\"\n};\nexport const printTextStyle = {\n  fontWeight: \"500!important\",\n  fontSize: \"1.2rem\",\n  textDecoration: \"none\",\n  color: \"#555\",\n  textAlign: \"left\"\n};\nexport const titleTextStyle = {\n  fontWeight: \"bold\",\n  fontSize: \"1.2rem\",\n  textDecoration: \"underline\",\n  textAlign: \"center\"\n};\nexport const imageStyle = {\n  display: \"block\",\n  marginLeft: \"auto\",\n  marginRight: \"auto\",\n  width: \"100%\",\n  height: \"auto\"\n};\nexport const fullTableWidthStyle = {\n  width: \"100%\",\n  border: \"1px solid black\",\n  height: \"auto\"\n};\nexport const thStyle = {\n  fontSize: \"1.2rem\",\n  padding: \"2px 5px\",\n  border: \"1px solid black\",\n  textAlign: \"left\"\n};\nexport const renderHeader = document => {\n  const strTemplate = get(document, \"$template.name\"); //RP_2024_P_LCA\n  //0123456789012\n\n  const isBefore2025 = strTemplate.substr(3, 4) === \"2006\" || strTemplate.substr(3, 4) === \"2010\" || strTemplate.substr(3, 4) === \"2020\" || strTemplate.substr(3, 4) === \"2021\" || strTemplate.substr(3, 4) === \"2022\" || strTemplate.substr(3, 4) === \"2023\" || strTemplate.substr(3, 4) === \"2024\" ? 1 : 0;\n  const isDisplayNewLogo = isBefore2025 ? 0 : 1;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, \"9 Woodlands Avenue 9, Sinagpore 738964\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }), \"tel: (65) 6510 3000\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://www.rp.edu.sg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, \"www.rp.edu.sg\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    style: fullWidthStyle,\n    src: isDisplayNewLogo ? IMG_LOGO_RP_HORIZONTAL24 : IMG_LOGO_RP_HORIZONTAL,\n    alt: \"RP Logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  })));\n}; //\n\nexport const renderElementList = listEvent => {\n  const strList = listEvent.map((s, i) => /*#__PURE__*/React.createElement(\"p\", {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 43\n    }\n  }, s));\n  return strList;\n}; //\n\nexport const renderSkill = (skill, skillId, varDType, remarks, tversion) => {\n  //console.log('skill id :', skillId);\n  const sem = get(skill, \"[0].competencyLevel\");\n  const sType = sem.substring(0, 1);\n  const sem1 = sem.substring(1);\n  const isArchievement = sType === \"A\" ? true : false;\n\n  if (sType !== varDType.t) {\n    varDType.t = sType;\n  }\n\n  let isChangeCompetency = false;\n  let oldCompetency = \"-\";\n  let oldCompetencyDesc = [];\n  let competency = \"-\";\n  let iCnt = 0;\n  let iTotal = -1;\n  let isRemarks = false; // addition remarks at the end of the table 1 for asterisk\n  // initialize a list of competencyLevelDescription;\n\n  let listCompetencyLevelDescription = []; // map\n\n  skill.forEach(() => {\n    iTotal++;\n  }); //console.log('Total:',iTotal); //iTotal will be count - 1\n\n  const skillRows = skill.map((s, i) => {\n    // i will start from 0 to n-1\n    //console.log(i);\n    const compNo = s.competencyCode; //s.competencyDescription.substring(0, 1);\n\n    isChangeCompetency = competency === s.competencyDescription ? false : true; // this for table 2\n\n    if (!isArchievement) {\n      // console.log(\"Not archievement\");\n      if (isChangeCompetency) {\n        //console.log(\"change compentency\");\n        oldCompetency = competency;\n        oldCompetencyDesc = [];\n        oldCompetencyDesc = [].concat(listCompetencyLevelDescription); // copy the array\n\n        competency = s.competencyDescription;\n        listCompetencyLevelDescription = [];\n        listCompetencyLevelDescription.push(s.competencyLevelDescription);\n        iCnt++;\n      } else {\n        // insert into listCompetencyLevelDescription\n        listCompetencyLevelDescription.push(s.competencyLevelDescription);\n      } // handle the last category and row.\n\n\n      if (iTotal === i) {\n        //console.log(\"last row\");\n        //console.log(\"i : \",i);\n        oldCompetency = competency;\n        oldCompetencyDesc = [];\n        oldCompetencyDesc = [].concat(listCompetencyLevelDescription); // copy the array\n\n        isChangeCompetency = true; //iCnt = iCnt === 1 ? 2 : iCnt; // if only one item in the list, display the remarks\n\n        iCnt = iCnt === 2 ? 3 : iCnt; // to avoid display 3 columns twice if 2 competency descriptions\n        //console.log(\"iCNT\", iCnt);\n      }\n    } else {\n      // for table 1 - check s.competencyLevelDescription\n      if (s.competencyLevelDescription === \"Completed*\") {\n        isRemarks = true;\n      }\n    }\n\n    return isArchievement ? /*#__PURE__*/React.createElement(\"tr\", {\n      key: i,\n      style: thStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: thStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }\n    }, s.competencyCode, \". \", s.competencyDescription, compNo === \"1\" && isArchievement ? /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }, \"Process ten prescriptions of low complexity, with not more than 6 items\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 15\n      }\n    }, \"Handle at least five simple intervention with documentation: Able to explain clearly the purpose of the call, read back and document the intervention\")) : null, compNo === \"2\" && isArchievement ? /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 15\n      }\n    }, \"Dispense ten prescriptions of low complexity, with not more than 6 items\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 15\n      }\n    }, \"Handle at least five simple intervention with documentation: Able to explain clearly the purpose of the call, read back and document the intervention\")) : null, compNo === \"3\" && isArchievement ? /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 15\n      }\n    }, \"Counsel patients/caregivers on ten drug or product enquiries with minimum of three acute medications and three chronic medications\")) : null, compNo === \"4\" && isArchievement ? /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 15\n      }\n    }, \"Process and dispense ten prescriptions of low complexity, with not more than 6 items, to demonstrate compliance to medication safety practices\")) : null, compNo === \"5\" && isArchievement ? /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 15\n      }\n    }), \"On three separate occasions:\", /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }\n    }, \"Obtain individual patient demographic and medication use record\"), tversion === \"2023\" ? /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 19\n      }\n    }, \"Perform physical count of medications and match against medication records\") : /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 19\n      }\n    }, \"Check the quantity of medications, physically or based on electronics records, and match against medication records\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }\n    }, \"Perform up-to-date documentation of patient's medication information in patient records\"))) : null, compNo === \"6\" && isArchievement ? /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 15\n      }\n    }, \"Handle at least five unique simple enquiries related to sale of General Sales List or Pharmacy-only item and be able to address all enquiries\")) : null), /*#__PURE__*/React.createElement(\"td\", {\n      style: thStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }\n    }, s.competencyLevelDescription)) : i > -1 ? isChangeCompetency && i > 0 || i === iTotal ? /*#__PURE__*/React.createElement(\"tr\", {\n      key: i,\n      style: thStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      style: thStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }\n    }, oldCompetency), /*#__PURE__*/React.createElement(\"td\", {\n      style: thStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }\n    }, renderElementList(oldCompetencyDesc)), iCnt === 2 || i === iTotal && iCnt === 1 ? /*#__PURE__*/React.createElement(\"td\", {\n      rowSpan: \"0\",\n      style: {\n        width: \"30%\",\n        textAlign: \"left\",\n        padding: \"2px 5px\",\n        border: \"1px solid black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 13\n      }\n    }, remarks) : null) : null : null;\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    key: skillId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: \"left\",\n      fontSize: \"1.2rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 9\n    }\n  }, !isArchievement ? /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      printTextStyle\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 13\n    }\n  }, \"Based on the student's performance, areas to be strengthened are listed in \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 29\n    }\n  }, \"Table 2\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 15\n    }\n  }, \"Table 2: Areas to be reinforced for student upon on-boarding\")) : null), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: \"left\",\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 9\n    }\n  }, sem1, \" \"), /*#__PURE__*/React.createElement(\"table\", {\n    style: fullTableWidthStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    style: thStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 15\n    }\n  }, \"Key Tasks\"), isArchievement ? /*#__PURE__*/React.createElement(\"th\", {\n    style: thStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 17\n    }\n  }, \"Achievement\") : /*#__PURE__*/React.createElement(\"th\", {\n    style: thStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 17\n    }\n  }, \"Elements\"), !isArchievement ? /*#__PURE__*/React.createElement(\"th\", {\n    style: thStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 34\n    }\n  }, \"Remarks\") : null), skillRows)), isRemarks ? /*#__PURE__*/React.createElement(\"p\", {\n    style: printTextStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 11\n    }\n  }, \"*Assessment was completed in school.\") : null), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }\n  }));\n};\nexport const renderLCA = (document, skills) => {\n  // Get student info and course description\n  const strTemplate = get(document, \"$template.name\"); // RP_2023_P_LCA\n  // 0 12 3456789 01234\n\n  const sVersion = strTemplate.substr(3, 4);\n  const recipientName = get(document, \"recipient.name\");\n  const recipientID = get(document, \"recipient.studentId\");\n  const sText = get(document, \"additionalData.performancerange\").split(\"|\");\n  const Venue = sText[0];\n  const DateRange = sText[1];\n  const Remarks = sText[2];\n  const groupedSkill = groupBy(skills, \"competencyLevel\");\n  let varDType = {\n    t: 0\n  };\n  const renderedSkill = Object.keys(groupedSkill).map(skill => renderSkill(groupedSkill[skill], skill, varDType, Remarks, sVersion));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row d-flex justify-content-center\",\n    style: {\n      marginTop: \"3rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: printTextStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }\n  }, formatDDMMMYYYY(get(document, \"issuedOn\"))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: titleTextStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 7\n    }\n  }, \"Letter of Competency Attainment\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: printTextStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 9\n    }\n  }, \"This is to inform that\", \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 11\n    }\n  }, recipientName, \" (Student ID: \", recipientID, \")\"), \" \", \"was trained and assessed based on the National Competency Standards for Pharmacy Technicians (Entry Level) in school and through structured internship training at \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 45\n    }\n  }, Venue), \" from\", \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 11\n    }\n  }, DateRange), \".\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 9\n    }\n  }, \"The student\", \"'\", \"s performance based on the Keys Tasks of Pharmacy Technician Entry-to-Practice (ETP) Competency Assessment is indicated in \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 14\n    }\n  }, \"Table 1 \")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 11\n    }\n  }, \"Table 1: Achievements based on Key Tasks of Pharmacy Technician ETP Competency Assessment\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }\n  }, renderedSkill), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: printTextStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 9\n    }\n  })));\n}; // This is to display the content of letter of competency attainment\n\nexport const renderCompetency = document => {\n  // Group all modules by courses\n  const skills = get(document, \"skills\");\n  const renderedCompetency = renderLCA(document, skills);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 10\n    }\n  }, renderedCompetency);\n}; // This is to display the SAS HOD signature\n\nexport const renderOneSignature = certificate => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row d-flex justify-content-left align-items-end\",\n    style: {\n      marginTop: \"0rem\",\n      marginBottom: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"px-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 11\n    }\n  }, \"Sincerely,\"), /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      borderBottom: \"1px solid black\"\n    },\n    src: get(certificate, \"additionalData.skillSignatories[0].signature\"),\n    alt: \"Signature\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: SignatureTextStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 11\n    }\n  }, get(certificate, \"additionalData.skillSignatories[0].name\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 13\n    }\n  }), get(certificate, \"additionalData.skillSignatories[0].position\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 11\n    }\n  }))));\n};","map":{"version":3,"sources":["/Users/Shared/opencerts/UAT-opencerts-renderer/src/components/templates/RPTemplate/common/competency.js"],"names":["get","groupBy","React","IMG_LOGO_RP_HORIZONTAL","IMG_LOGO_RP_HORIZONTAL24","formatDDMMMYYYY","fullWidthStyle","width","height","SignatureTextStyle","fontFamily","fontSize","printTextStyle","fontWeight","textDecoration","color","textAlign","titleTextStyle","imageStyle","display","marginLeft","marginRight","fullTableWidthStyle","border","thStyle","padding","renderHeader","document","strTemplate","isBefore2025","substr","isDisplayNewLogo","renderElementList","listEvent","strList","map","s","i","renderSkill","skill","skillId","varDType","remarks","tversion","sem","sType","substring","sem1","isArchievement","t","isChangeCompetency","oldCompetency","oldCompetencyDesc","competency","iCnt","iTotal","isRemarks","listCompetencyLevelDescription","forEach","skillRows","compNo","competencyCode","competencyDescription","concat","push","competencyLevelDescription","renderLCA","skills","sVersion","recipientName","recipientID","sText","split","Venue","DateRange","Remarks","groupedSkill","renderedSkill","Object","keys","marginTop","renderCompetency","renderedCompetency","renderOneSignature","certificate","marginBottom","borderBottom"],"mappings":"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","sourcesContent":["import { get, groupBy } from \"lodash\";\nimport React from \"react\";\nimport { IMG_LOGO_RP_HORIZONTAL, IMG_LOGO_RP_HORIZONTAL24 } from \"./images\";\nimport { formatDDMMMYYYY } from \"./functions\";\nexport const fullWidthStyle = {\n  width: \"100%\",\n  height: \"auto\"\n};\nexport const SignatureTextStyle = {\n  fontFamily: \"Arial\",\n  fontSize: \"1.2rem\"\n};\nexport const printTextStyle = {\n  fontWeight: \"500!important\",\n  fontSize: \"1.2rem\",\n  textDecoration: \"none\",\n  color: \"#555\",\n  textAlign: \"left\"\n};\nexport const titleTextStyle = {\n  fontWeight: \"bold\",\n  fontSize: \"1.2rem\",\n  textDecoration: \"underline\",\n  textAlign: \"center\"\n};\nexport const imageStyle = {\n  display: \"block\",\n  marginLeft: \"auto\",\n  marginRight: \"auto\",\n  width: \"100%\",\n  height: \"auto\"\n};\nexport const fullTableWidthStyle = {\n  width: \"100%\",\n  border: \"1px solid black\",\n  height: \"auto\"\n};\nexport const thStyle = {\n  fontSize: \"1.2rem\",\n  padding: \"2px 5px\",\n  border: \"1px solid black\",\n  textAlign: \"left\"\n};\nexport const renderHeader = document => {\n  const strTemplate = get(document, \"$template.name\");\n  //RP_2024_P_LCA\n  //0123456789012\n  const isBefore2025 =\n    strTemplate.substr(3, 4) === \"2006\" ||\n    strTemplate.substr(3, 4) === \"2010\" ||\n    strTemplate.substr(3, 4) === \"2020\" ||\n    strTemplate.substr(3, 4) === \"2021\" ||\n    strTemplate.substr(3, 4) === \"2022\" ||\n    strTemplate.substr(3, 4) === \"2023\" ||\n    strTemplate.substr(3, 4) === \"2024\"\n      ? 1\n      : 0;\n  const isDisplayNewLogo = isBefore2025 ? 0 : 1;\n  return (\n    <div className=\"row\">\n      <div className=\"col-7\">\n        9 Woodlands Avenue 9, Sinagpore 738964\n        <br />\n        tel: (65) 6510 3000\n        <br />\n        <a href=\"https://www.rp.edu.sg\">www.rp.edu.sg</a>\n      </div>\n      <div className=\"col\" />\n      <div className=\"col-4\">\n        <img\n          style={fullWidthStyle}\n          src={\n            isDisplayNewLogo ? IMG_LOGO_RP_HORIZONTAL24 : IMG_LOGO_RP_HORIZONTAL\n          }\n          alt=\"RP Logo\"\n        />\n      </div>\n    </div>\n  );\n};\n//\nexport const renderElementList = listEvent => {\n  const strList = listEvent.map((s, i) => <p key={i}>{s}</p>);\n  return strList;\n};\n//\nexport const renderSkill = (skill, skillId, varDType, remarks, tversion) => {\n  //console.log('skill id :', skillId);\n  const sem = get(skill, \"[0].competencyLevel\");\n  const sType = sem.substring(0, 1);\n  const sem1 = sem.substring(1);\n  const isArchievement = sType === \"A\" ? true : false;\n  if (sType !== varDType.t) {\n    varDType.t = sType;\n  }\n  let isChangeCompetency = false;\n  let oldCompetency = \"-\";\n  let oldCompetencyDesc = [];\n  let competency = \"-\";\n  let iCnt = 0;\n  let iTotal = -1;\n  let isRemarks = false; // addition remarks at the end of the table 1 for asterisk\n\n  // initialize a list of competencyLevelDescription;\n  let listCompetencyLevelDescription = [];\n\n  // map\n  skill.forEach(() => {\n    iTotal++;\n  });\n  //console.log('Total:',iTotal); //iTotal will be count - 1\n  const skillRows = skill.map((s, i) => {\n    // i will start from 0 to n-1\n    //console.log(i);\n    const compNo = s.competencyCode; //s.competencyDescription.substring(0, 1);\n    isChangeCompetency = competency === s.competencyDescription ? false : true;\n\n    // this for table 2\n    if (!isArchievement) {\n      // console.log(\"Not archievement\");\n      if (isChangeCompetency) {\n        //console.log(\"change compentency\");\n        oldCompetency = competency;\n        oldCompetencyDesc = [];\n        oldCompetencyDesc = [].concat(listCompetencyLevelDescription); // copy the array\n        competency = s.competencyDescription;\n        listCompetencyLevelDescription = [];\n        listCompetencyLevelDescription.push(s.competencyLevelDescription);\n        iCnt++;\n      } else {\n        // insert into listCompetencyLevelDescription\n        listCompetencyLevelDescription.push(s.competencyLevelDescription);\n      }\n      // handle the last category and row.\n      if (iTotal === i) {\n        //console.log(\"last row\");\n        //console.log(\"i : \",i);\n        oldCompetency = competency;\n        oldCompetencyDesc = [];\n        oldCompetencyDesc = [].concat(listCompetencyLevelDescription); // copy the array\n        isChangeCompetency = true;\n        //iCnt = iCnt === 1 ? 2 : iCnt; // if only one item in the list, display the remarks\n        iCnt = iCnt === 2 ? 3 : iCnt; // to avoid display 3 columns twice if 2 competency descriptions\n        //console.log(\"iCNT\", iCnt);\n      }\n    } else {\n      // for table 1 - check s.competencyLevelDescription\n      if (s.competencyLevelDescription === \"Completed*\") {\n        isRemarks = true;\n      }\n    }\n    return isArchievement ? (\n      <tr key={i} style={thStyle}>\n        <td style={thStyle}>\n          {s.competencyCode}. {s.competencyDescription}\n          {compNo === \"1\" && isArchievement ? (\n            <ul>\n              <li>\n                Process ten prescriptions of low complexity, with not more than\n                6 items\n              </li>\n              <li>\n                Handle at least five simple intervention with documentation:\n                Able to explain clearly the purpose of the call, read back and\n                document the intervention\n              </li>\n            </ul>\n          ) : null}\n          {compNo === \"2\" && isArchievement ? (\n            <ul>\n              <li>\n                Dispense ten prescriptions of low complexity, with not more than\n                6 items\n              </li>\n              <li>\n                Handle at least five simple intervention with documentation:\n                Able to explain clearly the purpose of the call, read back and\n                document the intervention\n              </li>\n            </ul>\n          ) : null}\n          {compNo === \"3\" && isArchievement ? (\n            <ul>\n              <li>\n                Counsel patients/caregivers on ten drug or product enquiries\n                with minimum of three acute medications and three chronic\n                medications\n              </li>\n            </ul>\n          ) : null}\n          {compNo === \"4\" && isArchievement ? (\n            <ul>\n              <li>\n                Process and dispense ten prescriptions of low complexity, with\n                not more than 6 items, to demonstrate compliance to medication\n                safety practices\n              </li>\n            </ul>\n          ) : null}\n          {compNo === \"5\" && isArchievement ? (\n            <span>\n              <br />\n              On three separate occasions:\n              <ul>\n                <li>\n                  Obtain individual patient demographic and medication use\n                  record\n                </li>\n                {tversion === \"2023\" ? (\n                  <li>\n                    Perform physical count of medications and match against\n                    medication records\n                  </li>\n                ) : (\n                  <li>\n                    Check the quantity of medications, physically or based on\n                    electronics records, and match against medication records\n                  </li>\n                )}\n                <li>\n                  Perform up-to-date documentation of patient&apos;s medication\n                  information in patient records\n                </li>\n              </ul>\n            </span>\n          ) : null}\n          {compNo === \"6\" && isArchievement ? (\n            <ul>\n              <li>\n                Handle at least five unique simple enquiries related to sale of\n                General Sales List or Pharmacy-only item and be able to address\n                all enquiries\n              </li>\n            </ul>\n          ) : null}\n        </td>\n        <td style={thStyle}>{s.competencyLevelDescription}</td>\n      </tr>\n    ) : i > -1 ? (\n      (isChangeCompetency && i > 0) || i === iTotal ? (\n        <tr key={i} style={thStyle}>\n          <td style={thStyle}>{oldCompetency}</td>\n          <td style={thStyle}>{renderElementList(oldCompetencyDesc)}</td>\n          {iCnt === 2 || (i === iTotal && iCnt === 1) ? (\n            <td\n              rowSpan=\"0\"\n              style={{\n                width: \"30%\",\n                textAlign: \"left\",\n                padding: \"2px 5px\",\n                border: \"1px solid black\"\n              }}\n            >\n              {remarks}\n            </td>\n          ) : null}\n        </tr>\n      ) : null\n    ) : null;\n  });\n  return (\n    <div className=\"col-12\" key={skillId}>\n      <div className=\"text-center\">\n        <p style={{ textAlign: \"left\", fontSize: \"1.2rem\" }}>\n          {!isArchievement ? (\n            <span style={{ printTextStyle }}>\n              Based on the student&apos;s performance, areas to be strengthened\n              are listed in <strong>Table 2</strong>\n              <br />\n              <strong>\n                Table 2: Areas to be reinforced for student upon on-boarding\n              </strong>\n            </span>\n          ) : null}\n        </p>\n        <p style={{ textAlign: \"left\", fontWeight: \"bold\" }}>{sem1} </p>\n        <table style={fullTableWidthStyle}>\n          <tbody>\n            <tr>\n              <th style={thStyle}>Key Tasks</th>\n              {isArchievement ? (\n                <th style={thStyle}>Achievement</th>\n              ) : (\n                <th style={thStyle}>Elements</th>\n              )}\n              {!isArchievement ? <th style={thStyle}>Remarks</th> : null}\n            </tr>\n            {skillRows}\n          </tbody>\n        </table>\n        {isRemarks ? (\n          <p style={printTextStyle}>*Assessment was completed in school.</p>\n        ) : null}\n      </div>\n      <br />\n    </div>\n  );\n};\n\nexport const renderLCA = (document, skills) => {\n  // Get student info and course description\n  const strTemplate = get(document, \"$template.name\");\n  // RP_2023_P_LCA\n  // 0 12 3456789 01234\n  const sVersion = strTemplate.substr(3, 4);\n  const recipientName = get(document, \"recipient.name\");\n  const recipientID = get(document, \"recipient.studentId\");\n  const sText = get(document, \"additionalData.performancerange\").split(\"|\");\n  const Venue = sText[0];\n  const DateRange = sText[1];\n  const Remarks = sText[2];\n  const groupedSkill = groupBy(skills, \"competencyLevel\");\n  let varDType = { t: 0 };\n\n  const renderedSkill = Object.keys(groupedSkill).map(skill =>\n    renderSkill(groupedSkill[skill], skill, varDType, Remarks, sVersion)\n  );\n\n  return (\n    <div>\n      <div\n        className=\"row d-flex justify-content-center\"\n        style={{ marginTop: \"3rem\" }}\n      />\n      <div style={printTextStyle}>\n        {formatDDMMMYYYY(get(document, \"issuedOn\"))}\n      </div>\n      <br />\n      <div style={titleTextStyle}>Letter of Competency Attainment</div>\n      <br />\n      <br />\n      <div style={printTextStyle}>\n        <p>\n          This is to inform that{\" \"}\n          <strong>\n            {recipientName} (Student ID: {recipientID})\n          </strong>{\" \"}\n          was trained and assessed based on the National Competency Standards\n          for Pharmacy Technicians (Entry Level) in school and through\n          structured internship training at <strong>{Venue}</strong> from{\" \"}\n          <strong>{DateRange}</strong>.\n        </p>\n        <p>\n          The student{\"'\"}s performance based on the Keys Tasks of Pharmacy\n          Technician Entry-to-Practice (ETP) Competency Assessment is indicated\n          in <strong>Table 1 </strong>\n        </p>\n        <p>\n          <strong>\n            Table 1: Achievements based on Key Tasks of Pharmacy Technician ETP\n            Competency Assessment\n          </strong>\n        </p>\n      </div>\n      <div className=\"row\">{renderedSkill}</div>\n      <div className=\"row d-flex justify-content-center\">\n        <p style={printTextStyle}></p>\n      </div>\n    </div>\n  );\n};\n// This is to display the content of letter of competency attainment\nexport const renderCompetency = document => {\n  // Group all modules by courses\n  const skills = get(document, \"skills\");\n  const renderedCompetency = renderLCA(document, skills);\n  return <div>{renderedCompetency}</div>;\n};\n// This is to display the SAS HOD signature\nexport const renderOneSignature = certificate => {\n  return (\n    <div\n      className=\"row d-flex justify-content-left align-items-end\"\n      style={{ marginTop: \"0rem\", marginBottom: \"1rem\" }}\n    >\n      <div className=\"col-6\">\n        <div className=\"px-6\">\n          <p>Sincerely,</p>\n          <img\n            style={{ borderBottom: \"1px solid black\" }}\n            src={get(\n              certificate,\n              \"additionalData.skillSignatories[0].signature\"\n            )}\n            alt=\"Signature\"\n          />\n        </div>\n        <div className=\"text-left\">\n          <span style={SignatureTextStyle}>\n            {get(certificate, \"additionalData.skillSignatories[0].name\")}\n            <br />\n            {get(certificate, \"additionalData.skillSignatories[0].position\")}\n            <br />\n          </span>\n          <br />\n          <br />\n        </div>\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}